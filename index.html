<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>etrepat.com | Estanislau Trepat</title>
  <link rel="stylesheet" href="stylesheets/main.css" type="text/css" media="screen" title="default" charset="utf-8">
</head>
<body>
  <header id="header">
    <h1><a href="http://etrepat.com" title="Estanislau Trepat">Estanislau Trepat</a></h1>
    <nav>
      <ul>
        <li><p class="inactive" title="not yet online">Blog</p></li>
        <li><a href="http://twitter.com/etrepat" title="My very own twitter stream">Twitter</a><li>
        <li><a href="http://github.com/etrepat" title="Some code i've written on GitHub">Code</a></li>
        <li><p class="inactive" title="not yet ready for public">About</p></li>
        <li><a href="mailto:estanis@etrepat.com" title="Drop me a line!">Contact</a></li>
      </ul>
    </nav>
  </header>
  <section id="background" style="display: none"></section> <!-- background is content -->
  <section id="nasa">
    <p>Background image courtesy of:</p>
    <p><a href="http://www.nasa.gov" title="NASA"><img src="images/logo_nasa.png" border="0" alt="nasa" align="bottom" /></a></p>
  </section>
  <footer id="footer">
    <p>Copyright &copy; 2010 Estanislau Trepat - All rights reserved.</p>
  </footer>
  <script src="javascripts/lib/prototype.js" type="text/javascript" charset="utf-8"></script>
  <script src="javascripts/lib/s2.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript" charset="utf-8">
    WebFontConfig = {
      google: { families: [ 'Yanone Kaffeesatz' ] }
    };
    (function() {
      var wf = document.createElement('script');
      wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
          '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
      wf.type = 'text/javascript';
      wf.async = 'true';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(wf, s);
    })();
  </script>
  <script type="text/javascript" charset="utf-8">
    var BackgroundLoader = Class.create({
      initialize: function() {
        this.options = {
          element: 'background',
          url: 'http://www.nasa.gov/images/content/494060main_rolloutmoon-lg_full_full.jpg'
        };
        Object.extend(this.options, arguments[0] || {});
        
        this.element = $(this.options.element);
        this.loader = new Image();
        this.loader.onload = this.onImageLoaded.bind(this);
        this.loader.src = this.options.url;
      },
      
      onImageLoaded: function() {
        this.element.setStyle({
          background: 'url(' + this.loader.src + ')',
          backgroundRepeat: 'no-repeat',
          backgroundPosition: 'center center'          
        });
        this.element.appear(1);
      }
    });
    
    var NavEffects = Class.create({
      initialize: function() {
        this.options = {
          selector: '#header nav ul li a',
          onMouseEnter: null,
          onMouseLeave: null
        };
        Object.extend(this.options || arguments[0]);
        
        if ( !this.options.onMouseEnter )
          this.options.onMouseEnter = this.onMouseEnter;
          
        if ( !this.options.onMouseLeave )
          this.options.onMouseLeave = this.onMouseLeave;
          
        $$(this.options.selector).each(function(element) {
          element.observe('mouseenter', this.options.onMouseEnter.bind(this));
          element.observe('mouseleave', this.options.onMouseLeave.bind(this));
        }.bind(this));
      },
      
      onMouseEnter: function(e) {
        var element = e.findElement();
        element.morph('background-color: #fff; color: #0af', .2);        
      },
      
      onMouseLeave: function(e) {
        var element = e.findElement();
        element.morph('background-color: #0af; color: #fff', .2);       
      }
    });
    
    document.observe('dom:loaded', function(e) {
      new NavEffects();
      new BackgroundLoader();
    });
  </script>
</body>
</html>
